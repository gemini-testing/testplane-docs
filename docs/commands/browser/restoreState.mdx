# restoreState

## Overview {#overview}

Browser command that restore session state (cookies, local and session storages) from file or variable.

<Admonition type="warning">
    If you are using `webdriver` automation protocol you have to provide `webSocketUrl: true` in `desiredCapabilities` in config browser settings.
    For `devtools` protocol don't need additional settings.
</Admonition>

## Usage {#usage}

You can restore state from file (using `path` param) or from object (using `data` param)
But if you provide both, file have a highest priority.
Also you can provide `cookies`, `localStorage` and `sessionStorage` params for restore only that what you need.
Data for restore state you can get from [saveState](../saveState) command.

```typescript
await browser.restoreState({
    path: './stateDump.json',
    data: stateDump,
    cookies: true,
    localStorage: true,
    sessionStorage: true,
});
```

## Usage Examples {#examples}

Restore state from file
```typescript
it("test", async ({ browser }) => {
    await browser.url("https://github.com/gemini-testing/testplane");

    await browser.restoreState({
        path: './stateDump.json',
    });

    // Reload page for see auth result.
    await browser.refresh();
});
```

## Related Commands {#related}

-   [saveState](../saveState)
