import LastFailedExample from "@site/docs/config/_partials/examples/_last-failed-example.mdx";

# lastFailed

## Обзор {#overview}

Testplane умеет перезапускать упавшие в последнем прогоне тесты. Для этого он сохраняет json с информацией об упавших тестах после каждого запуска.

С помощью секции `lastFailed` вы можете настроить расположение этого файла и другие опции.

Чтобы запустить только упавшие тесты из CLI используйте опцию `--last-failed-only` или переменную окружения `testplane_last_failed_only=true`.

## Настройка {#setup}

Раздел `lastFailed` имеет следующий формат:

<LastFailedExample />

### Расшифровка параметров конфигурации {#setup_description}

<table>
    <thead>
        <tr>
            <td>**Параметр**</td>
            <td>**Тип**</td>
            <td>**По&nbsp;умолчанию**</td>
            <td>**Описание**</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>[`only`](#only)</td>
            <td>`boolean`</td>
            <td>`false`</td>
            <td>Включить / отключить режим перезапуска упавших тестов.</td>
        </tr>
        <tr>
            <td>[`input`](#input)</td>
            <td>`string | string[]`</td>
            <td>`".testplane/failed.json"`</td>
            <td>Путь или список путей для чтения списка упавших тестов.</td>
        </tr>
        <tr>
            <td>[`output`](#output)</td>
            <td>`string`</td>
            <td>`".testplane/failed.json"`</td>
            <td>Путь для сохранения списка упавших тестов.</td>
        </tr>
    </tbody>
</table>

### only {#only}

Включает режим перезапуска упавших тестов. В этом режиме запускаются только тесты из списка, путь к которому указан в input, если установить значение в `true`.

По умолчанию: `false`.

### input {#input}

Путь или список путей для чтения списка упавших тестов. Если указан список путей к файлам, то перезапускаются все тесты, которые встречаются хотя бы в одном из них.

По умолчанию: `.testplane/failed.json`.

### output {#output}

Путь для сохранения списка упавших тестов. Используется всегда, независимо от опции `only`.

По умолчанию: `.testplane/failed.json`.
