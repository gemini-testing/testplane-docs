---
sidebar_class_name: hidden
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Конфиг testplane

## Настройка {#setup}

Чтобы настроить testplane, используйте конфигурационный файл следующего формата:

<Tabs>
<TabItem value="Минимальный конфиг" label="Минимальный конфиг">
```javascript
  module.exports = {
      browsers: {
          chrome: {
              desiredCapabilities: {
                  browserName: 'chrome',

                  // ...
              },

              // другие настройки браузера chrome...
          },

          // настройки других браузеров...
      }

};

````
</TabItem>


<TabItem value="Максимальный конфиг" label="Максимальный конфиг">
```javascript
module.exports = {
    // глобальные настройки браузеров...

    browsers: {
        // настройки конкретных браузеров...
    },
    sets: {
        // настройки групп тестов...
        // группы тестов можно использовать, например,
        // для разделения запуска десктопных и мобильных тестов
    },
    system: {
        // системные настройки...
    },
    plugins: {
        // подключение внешних плагинов testplane...
    },
    prepareBrowser: function(browser) {
        // здесь можно добавить новые команды к объекту browser,
        // где browser - это сессия WebdriverIO
    },
    prepareEnvironment: function () {
        // здесь можно задать переменные окружения или
        // изменить / дополнить конфиг testplane
    }
};
````

</TabItem>

</Tabs>

### Описание разделов конфигурации {#config_sections_description}

Единственным обязательным разделом в настройках testplane является раздел `browsers`.

Также большинство [настроек браузеров][browsers] можно вынести на глобальный уровень, чтобы они применялись для всех браузеров, а не повторялись в настройках каждого браузера снова и снова.

<table>
<thead>
<tr><td>**Имя**</td><td>**Описание**</td></tr>
</thead>
<tbody>
<tr><td>[browsers][browsers]</td><td>Обязательный раздел. В нем задаются настройки всех браузеров, в которых будут запускаться тесты.</td></tr>
<tr><td>[sets][sets]</td><td>Раздел, позволяющий привязать набор тестов к определенным браузерам и запускать их сразу одной командой. Может пригодиться, например, для отдельного запуска десктопных и мобильных тестов.</td></tr>
<tr><td>[system][system]</td><td>Раздел системных настроек testplane. Позволяет задать число подпроцессов, в которых будут запускаться тесты, включить режим дебага для WebDriver, и многое другое.</td></tr>
<tr><td>[plugins][plugins]</td><td>Раздел, с помощью которого можно подключить к testplane внешние плагины.</td></tr>
<tr><td>[prepareBrowser][prepare-browser]</td><td>Функция, в которой можно подготовить браузер до того, как в нем будут запущены тесты. Например, в этой функции можно добавить новые команды для объекта _browser_.</td></tr>
<tr><td>[prepareEnvironment][prepare-environment]</td><td>Функция, в которой можно задать переменные окружения или, например, дополнить какие-то параметры конфига.</td></tr>

</tbody>
</table>

Перейдите по ссылке или выберите нужный раздел в левом навигационном меню документации, чтобы почитать подробнее о соответствующих настройках.

## Использование {#usage}

По умолчанию testplane при запуске ищет файл `.testplane.conf.js` в текущей рабочей папке.

Вы можете задать свой конфигурационный файл с помощью CLI-опции `--config`, указав в качестве значения опции путь к файлу относительно текущей рабочей папки.

[browsers]: ./browsers
[sets]: ./sets
[system]: ./system
[plugins]: ./plugins
[prepare-browser]: ./prepare-browser
[prepare-environment]: ./prepare-environment
