[testplane](../README.mdx) / Testplane

# Class: Testplane

## Extends

- `BaseTestplane`

## Constructors

### new Testplane()

```ts
new Testplane(config?): Testplane
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `config`? | `string` \| [`ConfigInput`](../type-aliases/ConfigInput.mdx) |

#### Returns

[`Testplane`](Testplane.mdx)

#### Defined in

[src/testplane.ts:67](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L67)

## Properties

| Property | Type | Defined in |
| ------ | ------ | ------ |
| `on` | [`MasterEventHandler`](../type-aliases/MasterEventHandler.mdx)\<[`Testplane`](Testplane.mdx)\> | [src/testplane.ts:57](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L57) |
| `once` | [`MasterEventHandler`](../type-aliases/MasterEventHandler.mdx)\<[`Testplane`](Testplane.mdx)\> | [src/testplane.ts:58](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L58) |
| `prependListener` | [`MasterEventHandler`](../type-aliases/MasterEventHandler.mdx)\<[`Testplane`](Testplane.mdx)\> | [src/testplane.ts:59](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L59) |

## Accessors

### config

```ts
get config(): Config
```

#### Returns

[`Config`](Config.mdx)

#### Defined in

[src/base-testplane.ts:45](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/base-testplane.ts#L45)

***

### errors

```ts
get errors(): {
  AbortOnReconnectError: typeof AbortOnReconnectError;
  AssertViewError: typeof AssertViewError;
  CancelledError: typeof CancelledError;
  ClientBridgeError: typeof ClientBridgeError;
  CoreError: typeof CoreError;
  HeightViewportError: typeof HeightViewportError;
  ImageDiffError: typeof ImageDiffError;
  NoRefImageError: typeof NoRefImageError;
  OffsetViewportError: typeof OffsetViewportError;
  TestplaneInternalError: typeof TestplaneInternalError;
}
```

#### Returns

```ts
{
  AbortOnReconnectError: typeof AbortOnReconnectError;
  AssertViewError: typeof AssertViewError;
  CancelledError: typeof CancelledError;
  ClientBridgeError: typeof ClientBridgeError;
  CoreError: typeof CoreError;
  HeightViewportError: typeof HeightViewportError;
  ImageDiffError: typeof ImageDiffError;
  NoRefImageError: typeof NoRefImageError;
  OffsetViewportError: typeof OffsetViewportError;
  TestplaneInternalError: typeof TestplaneInternalError;
}
```

| Name | Type | Defined in |
| ------ | ------ | ------ |
| `AbortOnReconnectError` | *typeof* [`AbortOnReconnectError`](AbortOnReconnectError.mdx) | [src/errors.ts:34](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L34) |
| `AssertViewError` | *typeof* [`AssertViewError`](AssertViewError.mdx) | [src/errors.ts:30](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L30) |
| `CancelledError` | *typeof* [`CancelledError`](CancelledError.mdx) | [src/errors.ts:26](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L26) |
| `ClientBridgeError` | *typeof* [`ClientBridgeError`](ClientBridgeError.mdx) | [src/errors.ts:27](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L27) |
| `CoreError` | *typeof* [`CoreError`](CoreError.mdx) | [src/errors.ts:25](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L25) |
| `HeightViewportError` | *typeof* [`HeightViewportError`](HeightViewportError.mdx) | [src/errors.ts:28](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L28) |
| `ImageDiffError` | *typeof* [`ImageDiffError`](ImageDiffError.mdx) | [src/errors.ts:31](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L31) |
| `NoRefImageError` | *typeof* [`NoRefImageError`](NoRefImageError.mdx) | [src/errors.ts:32](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L32) |
| `OffsetViewportError` | *typeof* [`OffsetViewportError`](OffsetViewportError.mdx) | [src/errors.ts:29](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L29) |
| `TestplaneInternalError` | *typeof* [`TestplaneInternalError`](TestplaneInternalError.mdx) | [src/errors.ts:33](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/errors.ts#L33) |

#### Defined in

[src/base-testplane.ts:53](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/base-testplane.ts#L53)

***

### events

```ts
get events(): {
  AFTER_FILE_READ: MasterEvents.AFTER_FILE_READ;
  AFTER_TESTS_READ: MasterEvents.AFTER_TESTS_READ;
  BEFORE_FILE_READ: MasterEvents.BEFORE_FILE_READ;
  BEGIN: "begin";
  CLI: "cli";
  END: "end";
  ERROR: "err";
  EXIT: "exit";
  INFO: "info";
  INIT: MasterEvents.INIT;
  NEW_BROWSER: "newBrowser";
  NEW_WORKER_PROCESS: "newWorkerProcess";
  RETRY: "retry";
  RUNNER_END: "endRunner";
  RUNNER_START: "startRunner";
  SESSION_END: "endSession";
  SESSION_START: "startSession";
  SUITE_BEGIN: "beginSuite";
  SUITE_END: "endSuite";
  TEST_BEGIN: "beginTest";
  TEST_END: "endTest";
  TEST_FAIL: "failTest";
  TEST_PASS: "passTest";
  TEST_PENDING: "pendingTest";
  UPDATE_REFERENCE: "updateReference";
  WARNING: "warning";
}
```

#### Returns

```ts
{
  AFTER_FILE_READ: MasterEvents.AFTER_FILE_READ;
  AFTER_TESTS_READ: MasterEvents.AFTER_TESTS_READ;
  BEFORE_FILE_READ: MasterEvents.BEFORE_FILE_READ;
  BEGIN: "begin";
  CLI: "cli";
  END: "end";
  ERROR: "err";
  EXIT: "exit";
  INFO: "info";
  INIT: MasterEvents.INIT;
  NEW_BROWSER: "newBrowser";
  NEW_WORKER_PROCESS: "newWorkerProcess";
  RETRY: "retry";
  RUNNER_END: "endRunner";
  RUNNER_START: "startRunner";
  SESSION_END: "endSession";
  SESSION_START: "startSession";
  SUITE_BEGIN: "beginSuite";
  SUITE_END: "endSuite";
  TEST_BEGIN: "beginTest";
  TEST_END: "endTest";
  TEST_FAIL: "failTest";
  TEST_PASS: "passTest";
  TEST_PENDING: "pendingTest";
  UPDATE_REFERENCE: "updateReference";
  WARNING: "warning";
}
```

| Name | Type | Default value | Defined in |
| ------ | ------ | ------ | ------ |
| `AFTER_FILE_READ` | `"afterFileRead"` | MasterEvents.AFTER\_FILE\_READ | [src/events/index.ts:92](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L92) |
| `AFTER_TESTS_READ` | `"afterTestsRead"` | MasterEvents.AFTER\_TESTS\_READ | [src/events/index.ts:94](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L94) |
| `BEFORE_FILE_READ` | `"beforeFileRead"` | MasterEvents.BEFORE\_FILE\_READ | [src/events/index.ts:91](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L91) |
| `BEGIN` | `"begin"` | "begin" | [src/events/index.ts:53](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L53) |
| `CLI` | `"cli"` | "cli" | [src/events/index.ts:51](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L51) |
| `END` | `"end"` | "end" | [src/events/index.ts:54](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L54) |
| `ERROR` | `"err"` | "err" | [src/events/index.ts:63](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L63) |
| `EXIT` | `"exit"` | "exit" | [src/events/index.ts:23](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L23) |
| `INFO` | `"info"` | "info" | [src/events/index.ts:61](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L61) |
| `INIT` | `"init"` | MasterEvents.INIT | [src/events/index.ts:89](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L89) |
| `NEW_BROWSER` | `"newBrowser"` | "newBrowser" | [src/events/index.ts:96](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L96) |
| `NEW_WORKER_PROCESS` | `"newWorkerProcess"` | "newWorkerProcess" | [src/events/index.ts:31](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L31) |
| `RETRY` | `"retry"` | "retry" | [src/events/index.ts:43](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L43) |
| `RUNNER_END` | `"endRunner"` | "endRunner" | [src/events/index.ts:18](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L18) |
| `RUNNER_START` | `"startRunner"` | "startRunner" | [src/events/index.ts:17](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L17) |
| `SESSION_END` | `"endSession"` | "endSession" | [src/events/index.ts:21](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L21) |
| `SESSION_START` | `"startSession"` | "startSession" | [src/events/index.ts:20](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L20) |
| `SUITE_BEGIN` | `"beginSuite"` | "beginSuite" | [src/events/index.ts:33](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L33) |
| `SUITE_END` | `"endSuite"` | "endSuite" | [src/events/index.ts:34](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L34) |
| `TEST_BEGIN` | `"beginTest"` | "beginTest" | [src/events/index.ts:36](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L36) |
| `TEST_END` | `"endTest"` | "endTest" | [src/events/index.ts:37](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L37) |
| `TEST_FAIL` | `"failTest"` | "failTest" | [src/events/index.ts:40](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L40) |
| `TEST_PASS` | `"passTest"` | "passTest" | [src/events/index.ts:39](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L39) |
| `TEST_PENDING` | `"pendingTest"` | "pendingTest" | [src/events/index.ts:41](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L41) |
| `UPDATE_REFERENCE` | `"updateReference"` | "updateReference" | [src/events/index.ts:98](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L98) |
| `WARNING` | `"warning"` | "warning" | [src/events/index.ts:62](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/index.ts#L62) |

#### Defined in

[src/base-testplane.ts:49](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/base-testplane.ts#L49)

## Methods

### addTestToRun()

```ts
addTestToRun(test, browserId): boolean
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `test` | [`Test`](Test.mdx) |
| `browserId` | `string` |

#### Returns

`boolean`

#### Defined in

[src/testplane.ts:152](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L152)

***

### emitAndWait()

```ts
emitAndWait(event, ...args): Promise<unknown[]>
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `event` | `string` \| `symbol` |
| ...`args` | `unknown`[] |

#### Returns

`Promise`\<`unknown`[]\>

#### Defined in

[src/events/async-emitter/index.ts:5](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/events/async-emitter/index.ts#L5)

***

### extendCli()

```ts
extendCli(parser): void
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `parser` | `Command` |

#### Returns

`void`

#### Defined in

[src/testplane.ts:75](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L75)

***

### halt()

```ts
halt(err, timeout): void
```

#### Parameters

| Parameter | Type | Default value |
| ------ | ------ | ------ |
| `err` | `Error` | `undefined` |
| `timeout` | `number` | `60000` |

#### Returns

`void`

#### Defined in

[src/testplane.ts:207](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L207)

***

### intercept()

```ts
intercept(event, handler): this
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `event` | [`InterceptedEvent`](../type-aliases/InterceptedEvent.mdx) |
| `handler` | [`InterceptHandler`](../type-aliases/InterceptHandler.mdx) |

#### Returns

`this`

#### Defined in

[src/base-testplane.ts:57](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/base-testplane.ts#L57)

***

### isFailed()

```ts
isFailed(): boolean
```

#### Returns

`boolean`

#### Defined in

[src/testplane.ts:187](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L187)

***

### isWorker()

```ts
isWorker(): boolean
```

#### Returns

`boolean`

#### Defined in

[src/testplane.ts:203](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L203)

***

### readTests()

```ts
readTests(testPaths, __namedParameters): Promise<TestCollection>
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `testPaths` | `string`[] |
| `__namedParameters` | `Partial`\<[`ReadTestsOpts`](../interfaces/ReadTestsOpts.mdx)\> |

#### Returns

`Promise`\<[`TestCollection`](TestCollection.mdx)\>

#### Defined in

[src/testplane.ts:156](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L156)

***

### run()

```ts
run(testPaths, __namedParameters): Promise<boolean>
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `testPaths` | `string`[] \| [`TestCollection`](TestCollection.mdx) |
| `__namedParameters` | `Partial`\<[`RunOpts`](../interfaces/RunOpts.mdx)\> |

#### Returns

`Promise`\<`boolean`\>

#### Defined in

[src/testplane.ts:89](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/testplane.ts#L89)

***

### create()

```ts
static create<T>(this, config?): T
```

#### Type Parameters

| Type Parameter |
| ------ |
| `T` *extends* `BaseTestplane` |

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `this` | (`config`?) => `T` |
| `config`? | `string` \| [`ConfigInput`](../type-aliases/ConfigInput.mdx) |

#### Returns

`T`

#### Defined in

[src/base-testplane.ts:21](https://github.com/gemini-testing/testplane/blob/57d0b182c37e21d8bdf52acbb137a028841767af/src/base-testplane.ts#L21)
