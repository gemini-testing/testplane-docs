# Testplane Docs Website

Testplane is a modern and robust end-to-end testing framework. It features support for every browser with a single API, testing on real devices, great extensibility and vast visual testing capabilities.

This repository is a home for Testplane docs website.

## Development

### Install dependencies

```shell
nvm use
npm ci
```

### Generate testplane API specification

#### Clone testplane repo
```shell 
npm run clone-testplane
```
Env variables:
- `USE_LOCAL` - `true` means copy local testplane repo, `false` - clone remote, default: `false`
- `LOCAL_REPO_DIR` - path to local repo (used when `USE_LOCAL` is `true`)
- `REPO_PATH` - remote repo url (used when `USE_LOCAL` is `false`)

This command clones testplane to .testplane

#### Generate Russian localization template
```shell 
npm run docs:generate:template
```

It will generate a Russian localization template at `./exports` that can be edited. There is a problem that it does not seem to accept config args, it looks like it is not gonna work with docusaurus plugin. Now the only way seems to be this:
```shell 
npm run docs:generate:ru
```
English Docs are autogenerated using [`docusaurus-plugin-typedoc`](https://typedoc-plugin-markdown.org/plugins/docusaurus).

#### About API specification generator

API specification docs are generated using [TypeDoc](https://typedoc.org/) with 3 plugins:
 - [`typedoc-plugin-rename-defaults`](https://github.com/felipecrs/typedoc-plugin-rename-defaults) renames default exports back to their original names
 - [`typedoc-plugin-localization`](https://github.com/IgniteUI/typedoc-plugin-localization) adds Russian localization
 - [`typedoc-plugin-markdown`](https://typedoc-plugin-markdown.org/docs) enables markdown generation

Notes:
- The docs are generated for all types, classes and interfaces exported from `testplane/src/index.ts`
- To remove type/class/interface from docs, write @internal in the description like this:
    ```ts
    /**
     * @internal
     */
    export type SomeInternalType = {
        id: number
    }
    ```

### Run local dev server

```shell
npm start
```

This command starts a local development server and opens up a browser window. Most changes are reflected live without having to restart the server.

### Check your changes

This repository uses TypeScript, Eslint and Prettier.

To run all tests available, run:

```shell
npm test
```

To check types, run:

```shell
npm run typecheck
```

To fix code issues and formatting, run:

```shell
npm run reformat
```
