# restoreState

## Обзор {#overview}

Команда для восстановления данных (cookies, local and session storages) из файла или объекта.

<Admonition type="warning">
    Если вы используете `webdriver` automation protocol вы должны установить `webSocketUrl: true` в `desiredCapabilities` для браузера в конфиге.
    Для `devtools` protocol не нужно дополнительных настроек.
</Admonition>

## Использование {#usage}

Вы можете восстановить данные из файла (используя параметр `path`) или из объекта (используя параметр`data`)
Но если вы укажете оба параметра то данные восстановятся из файла.
Так же вы можете указать параметры `cookies`, `localStorage` и `sessionStorage` что бы восстановить только нуд=жные данные.
Данные для восстановления вы моежете получить из команды [saveState](../saveState).

```typescript
await browser.restoreState({
    path: './stateDump.json',
    data: stateDump,
    cookies: true,
    localStorage: true,
    sessionStorage: true,
});
```

## Примеры использования {#examples}

Восстановление данных из файла.
```typescript
it("test", async ({ browser }) => {
    await browser.url("https://github.com/gemini-testing/testplane");

    await browser.restoreState({
        path: './stateDump.json',
    });

    // Reload page for see auth result.
    await browser.refresh();
});
```

## Связанные команды {#related}

-   [saveState](../saveState)
